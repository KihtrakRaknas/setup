<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
    <title>Quick Comp. Set Up</title>
  </head>
  <body>
    <div class="container-fluid">
    	<h1 class="text-center display-4"style="max-width:100%">Downloads!</h1>
      <div id="os" onclick="setTimeout(update,300);">
      <div style="width:100%;display:flex;justify-content: center;" class="btn-group btn-group-toggle" data-toggle="buttons">
        <div class="input-group-prepend">
          <div class="input-group-text" id="btnGroupAddon">OS</div>
        </div>
        <label class="btn btn-outline-success active" id="windows">
          <input type="radio" name="Download" autocomplete="off" checked> Windows
        </label>
        <label class="btn btn-outline-success" id="mac">
          <input type="radio" name="To to download page" autocomplete="off"> Mac OS X
        </label>
        <label class="btn btn-outline-success" id="Linux/Unix">
          <input type="radio" name="null" autocomplete="off"> Linux/Unix
        </label>
      </div>
      </div>
        <div id="links">

    		  </div>
          <br>
          <br>
        </div>
		<br>
		<br>
		<button onclick="start()" data-toggle="tooltip" data-placement="top" title="You could press also press d" style="width:100%;height:90px;" type="button" class="btn btn-lg btn-outline-success">Start!</button>
	</div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  	<script>
		$(function () {
		  $('[data-toggle="tooltip"]').tooltip()
		})

var OSName= "null";

    if (navigator.appVersion.indexOf("Win")!=-1){
      document.getElementById("windows").classList.add("active");
      document.getElementById("mac").classList.remove("active");
      document.getElementById("Linux/Unix").classList.remove("active");
    }else if (navigator.appVersion.indexOf("Mac")!=-1){
      document.getElementById("windows").classList.remove("active");
      document.getElementById("mac").classList.add("active");
      document.getElementById("Linux/Unix").classList.remove("active");
OSName= "macUrl"
    }else if (navigator.appVersion.indexOf("X11")!=-1){
      document.getElementById("windows").classList.remove("active");
      document.getElementById("mac").classList.remove("active");
      document.getElementById("Linux/Unix").classList.add("active");
OSName= "X11"
    }else if (navigator.appVersion.indexOf("Linux")!=-1){
      document.getElementById("windows").classList.remove("active");
      document.getElementById("mac").classList.remove("active");
      document.getElementById("Linux/Unix").classList.add("active");
OSName= "Linux"
    }else{
      document.getElementById("windows").classList.remove("active");
      document.getElementById("mac").classList.remove("active");
      document.getElementById("Linux/Unix").classList.remove("active");
    }




    var downloads = {
      Java:{
        winUrl: "http://javadl.oracle.com/webapps/download/AutoDL?BundleId=227521_e758a0de34e24606bca991d704f6dcbf",
        macUrl: "https://javadl.oracle.com/webapps/download/AutoDL?BundleId=235718_2787e4a523244c269598db4e85c51e0c",
        info: "https://java.com/inc/BrowserRedirect1.jsp?locale=en",
      },
      Git:{
        winUrl: "https://github.com/git-for-windows/git/releases/download/v2.19.2.windows.1/Git-2.19.2-64-bit.exe",
        info: "https://git-scm.com/downloads",
      },
    	Atom:{
    		winUrl:"https://atom.io/download/windows_x64",
    		info:"https://atom.io/",
    	},
	"Visual Studio Code":{
    		winUrl:"https://aka.ms/win32-x64-user-stable",
		macUrl: "https://go.microsoft.com/fwlink/?LinkID=620882",
    		info:"https://code.visualstudio.com/",
    	},
      "Android Studio":{
        winUrl:"https://github.com/KihtrakRaknas/setup/raw/master/installz/android-studio-ide-181.5056338-windows.exe",
        info: "https://developer.android.com/studio/",
      },
	"Vex Code":{
		winUrl:"https://link.vex.com/vexcode-preview-pc",
		macUrl: "https://link.vex.com/vexcode-preview-mac",
		info: "https://www.vexforum.com/t/vexcode-preview/58625",
	},
      Arduino:{
        winUrl:"https://www.arduino.cc/download_handler.php",
        info:"https://www.arduino.cc/en/Main/Software",
      },
      "Google Chrome":{
        winUrl:"https://github.com/KihtrakRaknas/setup/raw/master/installz/ChromeSetup.exe",
        info: "https://www.google.com/chrome/",
      },
      FireFox:{
        winUrl:"https://download.mozilla.org/?product=firefox-stub&os=win&lang=en-US&attribution_code=c291cmNlPXd3dy5nb29nbGUuY29tJm1lZGl1bT1yZWZlcnJhbCZjYW1wYWlnbj0obm90IHNldCkmY29udGVudD0obm90IHNldCk.&attribution_sig=5d58068ab4ba5299f75ac9c252cf1dc4d489fe60ad5cb511a02222e81f68e2a5",
        info:"https://www.mozilla.org/en-US/firefox/new/",
      },
      Toolbox:{
        winUrl:"https://github.com/KihtrakRaknas/setup/raw/master/installz/ToolBox-small.zip",
        macUrl:"https://github.com/KihtrakRaknas/setup/raw/master/installz/ToolBox-small.zip",
        info:"https://drive.google.com/drive/folders/0B38mbZ0OsaNTeWQ1NzJZMU56bnM",
      },
      "Python 3":{
        winUrl:"https://www.python.org/ftp/python/3.7.1/python-3.7.1.exe",
        macUrl:"https://www.python.org/ftp/python/3.7.2/python-3.7.2rc1-macosx10.9.pkg",
        info:"https://www.python.org/downloads/",
      },
      VirtualBox:{
        winUrl:"https://download.virtualbox.org/virtualbox/5.2.22/VirtualBox-5.2.22-126460-Win.exe",
        macUrl:"https://download.virtualbox.org/virtualbox/5.2.22/VirtualBox-5.2.22-126460-OSX.dmg",
        info:"https://www.virtualbox.org/wiki/Downloads",
      },
      "Windows Media Creation Tool":{
        winUrl: "https://software-download.microsoft.com/download/pr/MediaCreationTool1809.exe",
        info: "https://www.microsoft.com/en-us/software-download/windows10",
      },
      "Windows ISO":{
        info:"https://www.microsoft.com/en-us/software-download/windows10ISO",
      },
      "Ubuntu ISO":{
        winUrl: "http://releases.ubuntu.com/18.04.1/ubuntu-18.04.1-desktop-amd64.iso?_ga=2.147932535.1925149884.1545356942-732307015.1545356942",
        macUrl: "http://releases.ubuntu.com/18.04.1/ubuntu-18.04.1-desktop-amd64.iso?_ga=2.147932535.1925149884.1545356942-732307015.1545356942",
        info: "https://www.ubuntu.com/download/desktop",
      },
      QEMU:{
        winUrl: "https://qemu.weilnetz.de/w64/qemu-w64-setup-20181211.exe",
        info: "https://www.qemu.org/download/",
      },
      Node:{
        winUrl: "https://nodejs.org/dist/v10.15.1/node-v10.15.1-x64.msi",
        info: "https://nodejs.org/en/",
      }
    }

    var preSelect = "down";

update()

function update(){
if(      document.getElementById("windows").classList.contains("active")   ){
  OSName= "winUrl"
}else if(  document.getElementById("mac").classList.contains("active")    ){
  OSName= "macUrl"
}else if(  document.getElementById("Linux/Unix").classList.contains("active")    ){
      OSName= "null"
        }


      //document.write('Your OS: '+OSName);

  while (document.getElementById("links").firstChild) {
      document.getElementById("links").removeChild(document.getElementById("links").firstChild);
  }

    for(var down in downloads){
      document.getElementById("links").appendChild(document.createElement("BR"))
      var downloadLink = document.createElement("DIV");
      downloadLink.classList.add("btn-group");
      downloadLink.classList.add("btn-group-toggle");
      downloadLink.setAttribute("data-toggle","buttons");
      downloadLink.style.width="100%";
      downloadLink.style.display="flex";
      downloadLink.style.justifyContent="center";

        var downloadName = document.createElement("DIV");
        downloadName.classList.add("input-group-prepend");

          var downloadNameText = document.createElement("DIV");
          downloadNameText.classList.add("input-group-text");
          downloadNameText.innerText = down;
          downloadName.appendChild(downloadNameText);

        downloadLink.appendChild(downloadName);

        for(var url in downloads[down]){
          var Append = true;
          var downloadBtn = document.createElement("LABEL");
          downloadBtn.classList.add("btn");
          var downloadBtnBtn = document.createElement("INPUT");
          downloadBtnBtn.setAttribute("type","radio");
          downloadBtnBtn.setAttribute("autocomplete","off");
          if(url==OSName){
            downloadBtn.classList.add("btn-outline-success");
            console.log(preSelect);
            if(preSelect=="down"){
              downloadBtn.classList.add("active");
              downloadBtnBtn.checked = true;
              console.log("yesy");
            }
            downloadBtn.innerText="Download";
            downloadBtn.id = down+"_download"
          }else if(url=="info"){
            downloadBtn.classList.add("btn-outline-info");
            downloadBtn.innerText="Open Download Page";
            downloadBtn.id = down+"_info"
            if(preSelect=="info"){
              downloadBtn.classList.add("active");
              downloadBtnBtn.checked = true;
            }
          }else{
            Append = false;
          }
          if(Append){
            downloadBtn.appendChild(downloadBtnBtn);
            downloadLink.appendChild(downloadBtn);
          }
        }
        var downloadBtn = document.createElement("label");
        downloadBtn.classList.add("btn");
        downloadBtn.classList.add("btn-outline-dark");
        downloadBtn.innerText="null";
        var downloadBtnBtn = document.createElement("INPUT");
        downloadBtnBtn.setAttribute("type","radio");
        downloadBtnBtn.setAttribute("autocomplete","off");

        if(preSelect=="null"){
          downloadBtn.classList.add("active");
          downloadBtnBtn.checked = true;
        }

        downloadBtn.appendChild(downloadBtnBtn);
        downloadLink.appendChild(downloadBtn);

      document.getElementById("links").appendChild(downloadLink);
    }

}

    window.onkeydown = function(e) {
       var key = e.keyCode ? e.keyCode : e.which;
       if (key == 68) {
           start();
       }else if (key == 78) {
         preSelect = "null";
         update();
       }
    }
    function start(){
      for(var down in downloads){
        var btn = document.getElementById(down+"_download");
        if(btn!=null&&btn.classList.contains("active"))
          for(var url in downloads[down]){
            if(url==OSName){
              console.log("Going to: "+ downloads[down][url]);
		            openInNewTab(downloads[down][url]);
            }
          }
      }
      for(var down in downloads){
        var btn = document.getElementById(down+"_info");
        if(btn!=null&&btn.classList.contains("active"))
          for(var url in downloads[down]){
            if(url=="info"){
              console.log("Going to: "+ downloads[down][url]);
              //window.open(downloads[down][url]);//NOT working???
          		openInNewTab(downloads[down][url]);
            }
          }
      }
    }

    function openInNewTab(url) {
      var win = window.open(url, '_blank');
      win.focus();
    }
  	</script>
  </body>
</html>
